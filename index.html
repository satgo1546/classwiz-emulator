<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<title>ClassWiz emulator</title>
<style>
	body {
		margin: 0;
		overflow: hidden;
		background-color: #e0e1df;
	}

	a {
		text-decoration: none;
	}

	svg {
		vertical-align: middle;
	}

	#hud {
		position: absolute;
		left: 0;
		top: 0;
		right: 0;
		opacity: .7;
		text-align: center;
		background-color: inherit;
	}

	#container {
		position: absolute;
		left: 0;
		top: 0;
		transform-origin: left top;
	}

	#status {
		position: absolute;
		left: 56px;
		top: 44px;
		width: 262px;
	}

	#status>*>* {
		/* The initial state is to hide all the status icons because no model has been selected. */
		opacity: 0;
	}

	#screen {
		position: absolute;
		left: 56px;
		top: 58px;
		width: 262px;
	}

	#keypad>*>* {
		position: absolute;
	}

	#keypad>*>*:active {
		backdrop-filter: invert(1);
	}

</style>
<div id="container">
	<svg id="status" viewBox="0 0 576 24">
		<g id="statusCY">
			<svg x="1" y="2" width="19" height="20" viewBox="0 0 10.8 11.3">
				<path
					d="M9.6,0H1.1C0.5,0,0,0.5,0,1.1v9.1c0,0.6,0.5,1.1,1.1,1.1c0,0,0,0,0,0h8.5c0.6,0,1.1-0.5,1.1-1.1c0,0,0,0,0,0V1.1
			C10.8,0.5,10.3,0,9.6,0z M5.3,10.4c-2.2,0-3-1-3-2.6V7.4h1.9v0.3c0,0.9,0.3,1.4,1.3,1.4c0.6,0,1.1-0.4,1.1-1c0,0,0-0.1,0-0.1
			c0-0.8-0.4-1.1-1.7-1.6C3.2,5.9,2.4,5.2,2.4,3.7c0-1.8,1.1-2.7,3-2.7c1.7,0,3,0.7,3,2.4v0.3H6.5c0-0.9-0.3-1.4-1-1.4
			c-0.5-0.1-1,0.3-1.1,0.8c0,0.1,0,0.2,0,0.3c0,0.6,0.2,0.9,1,1.2l1.5,0.6c1.4,0.6,1.8,1.3,1.8,2.4C8.6,9.6,7.4,10.4,5.3,10.4z" />
			</svg>
			<svg x="25" y="2" width="19" height="20" viewBox="0 0 10.77 11.33791">
				<polygon points="5.372 2.753 4.449 6.843 6.322 6.843 5.398 2.753 5.372 2.753" />
				<path
					d="M9.6357,0H1.1328A1.13361,1.13361,0,0,0,0,1.13281v9.0699a1.13348,1.13348,0,0,0,1.1328,1.1352H9.6357a1.13354,1.13354,0,0,0,1.1343-1.1352V1.13281A1.13368,1.13368,0,0,0,9.6357,0ZM7.0981,10.27,6.6567,8.34621H4.1137L3.6723,10.27H1.665L4.1943,1.17291H6.5761L9.1054,10.27Z" />
			</svg>
			<svg x="53" y="4" width="17" height="18" viewBox="0 0 9.8486 10.1801">
				<path
					d="M6.7876,0h3.061V10.1801H7.8662V3.2944q0-.29655.0068-.832.00735-.5355.0068-.8252L5.9506,10.1801H3.8838L1.9682,1.6372q0,.29.0069.8252.0066.53535.0068.832v6.8857H0V0H3.0952l1.853,8.0049Z" />
			</svg>
			<svg x="84" y="3" width="24" height="19" viewBox="0 0 13.4228 10.6924">
				<polygon
					points="4.073 0 4.073 2.47 5.355 2.47 5.355 1.284 12.139 1.284 12.139 9.409 5.355 9.409 5.355 8.224 4.073 8.224 4.073 10.692 13.423 10.692 13.423 0 4.073 0" />
				<polygon points="5.622 5.347 2.535 2.259 2.535 3.829 0 3.829 0 6.863 2.535 6.863 2.535 8.433 5.622 5.347" />
				<path
					d="M9.3096,7.9663a.69956.69956,0,0,1-.6143-.2954A4.39949,4.39949,0,0,1,8.291,6.3301a6.28019,6.28019,0,0,1-.9419,1.3422,1.0611,1.0611,0,0,1-.7456.294.78444.78444,0,0,1-.5728-.2183.73786.73786,0,0,1-.2216-.5454A.63761.63761,0,0,1,5.9824,6.75a.57577.57577,0,0,1,.4297-.1856.55873.55873,0,0,1,.3218.0913.6307.6307,0,0,1,.2182.313.60373.60373,0,0,0,.0718.1524h.0024a.19462.19462,0,0,0,.1348-.0816,14.5353,14.5353,0,0,0,.9658-1.5468l-.3735-1.565a.48926.48926,0,0,0-.0972-.228.16665.16665,0,0,0-.1328-.0542c-.1128,0-.3506.1152-.6733.88669l-.0532.12651-.4649-.273.0396-.0962a3.4825,3.4825,0,0,1,.7212-1.2168,1.13277,1.13277,0,0,1,.768-.3466.706.706,0,0,1,.606.3042,4.52815,4.52815,0,0,1,.4131,1.2612c.3349-.5298.5507-.8516.6577-.9795a1.71254,1.71254,0,0,1,.5132-.4595,1.06489,1.06489,0,0,1,.4907-.1264.73384.73384,0,0,1,.5259.1914.67778.67778,0,0,1,.2036.5122.71235.71235,0,0,1-.1636.4868.55.55,0,0,1-.4292.1914.53713.53713,0,0,1-.4966-.3608c-.0459-.0953-.083-.1167-.0923-.1167a.246.246,0,0,0-.1484.0917c-.0508.0557-.251.3423-.9111,1.39309l.372,1.50731a.97652.97652,0,0,0,.1416.4004.17233.17233,0,0,0,.1387.0645c.1235,0,.4072-.1221.9194-.9395l.0611-.0981.4497.2573-.0576.104a3.99953,3.99953,0,0,1-.9131,1.18509,1.40133,1.40133,0,0,1-.832.37011Z" />
			</svg>
			<svg x="121" y="4" width="38" height="18" viewBox="0 0 22.1807 10.6021">
				<polygon
					points="7.391 1.442 16.216 1.442 16.216 0 6.301 0 3.56 8.71 1.591 4.695 0 4.695 2.853 10.602 4.52 10.602 7.391 1.442" />
				<polygon
					points="14.661 9.28 9.43 9.28 9.43 4.107 13.339 4.107 13.339 5.094 14.661 5.094 14.661 2.786 8.108 2.786 8.108 10.602 14.661 10.602 14.661 9.28" />
				<polygon points="15.601 8.325 22.181 3.54 20.517 1.248 13.944 6.028 15.601 8.325" />
				<polygon points="13.425 6.403 12.674 8.698 15.08 8.694 13.426 6.402 13.425 6.403" />
			</svg>
			<svg x="172" y="2" width="19" height="20" viewBox="0 0 10.7705 11.33791">
				<path
					d="M9.6357,0H1.1328A1.13361,1.13361,0,0,0,0,1.13281v9.0699a1.13348,1.13348,0,0,0,1.1328,1.1352H9.6357a1.1339,1.1339,0,0,0,1.1348-1.1352V1.13281A1.134,1.134,0,0,0,9.6357,0ZM5.4306,10.27H2.3926V1.17291H5.5508c2.6767,0,3.1582,1.7456,3.1582,4.4214C8.709,8.81741,7.9863,10.27,5.4306,10.27Z" />
				<path
					d="M5.1357,2.52351H4.3203v6.396h.8564c1.3379,0,1.6055-.8028,1.6055-3.27451C6.7822,3.58111,6.6084,2.52351,5.1357,2.52351Z" />
			</svg>
			<svg x="193" y="2" width="19" height="20" viewBox="0 0 10.7696 11.33791">
				<path
					d="M9.6358,0H1.1329A1.1337,1.1337,0,0,0,0,1.13281v9.0699a1.13356,1.13356,0,0,0,1.1329,1.1352H9.6358a1.13312,1.13312,0,0,0,1.1338-1.1352V1.13281A1.13325,1.13325,0,0,0,9.6358,0ZM8.8956,10.27H6.8086a1.70621,1.70621,0,0,1-.2412-.95549l-.0537-1.7456A1.03424,1.03424,0,0,0,5.376,6.42241H4.3458V10.27H2.419V1.17291H5.9786c1.5791,0,2.5429.79,2.5429,2.3442a1.999,1.999,0,0,1-1.5927,2.2427v.0254c1.3115.1655,1.5117.8535,1.539,2.7773.0127.9556.0664,1.4527.4278,1.6309Z" />
				<path
					d="M5.2559,2.52351H4.3458V5.148h.8027c.9238,0,1.4453-.38189,1.4453-1.36329C6.5938,2.94391,6.126,2.52351,5.2559,2.52351Z" />
			</svg>
			<svg x="214" y="2" width="19" height="20" viewBox="0 0 10.7705 11.33791">
				<path
					d="M9.6357,0H1.1328A1.13361,1.13361,0,0,0,0,1.13281v9.0699a1.13348,1.13348,0,0,0,1.1328,1.1352H9.6357a1.1339,1.1339,0,0,0,1.1348-1.1352V1.13281A1.134,1.134,0,0,0,9.6357,0ZM8.502,10.27H7.083V9.42921H7.0566a2.17568,2.17568,0,0,1-2.0068,1.0191c-2.3691,0-2.8379-1.6817-2.8379-4.8286,0-3.0581.75-4.625,3.2119-4.625,2.1143,0,2.9707,1.0317,2.9707,2.8794H6.5479c0-.6753-.3213-1.5289-1.0967-1.5289-.9375,0-1.3115.917-1.3115,3.1851,0,2.1914.2138,3.5674,1.3242,3.5674a1.359,1.359,0,0,0,1.1914-1.4522v-.9301H5.3838V5.36481H8.502Z" />
			</svg>
			<svg x="244" y="4" width="36" height="18" viewBox="0 0 19.9287 10.0996">
				<path d="M0,0H5.9238V1.6694H2.1382v2.376h3.563V5.7148H2.1382v4.3848H0Z" />
				<path d="M8.1685,10.0996V0h2.1381V10.0996Z" />
				<path
					d="M12.3418,0h2.3608l1.3658,3.2676L17.4194,0h2.3311L17.2857,4.99309l2.643,5.10651H17.5234L15.9941,6.6767,14.48,10.0996H12.1338l2.6431-5.10651Z" />
			</svg>
			<svg x="284" y="4" width="33" height="18" viewBox="0 0 19.13181 10.4956">
				<path
					d="M2.1377,7.1431V7.44c0,.9477.2822,1.5561,1.4106,1.5561A1.194,1.194,0,0,0,4.8252,7.7515c0-.9194-.4898-1.2593-1.90039-1.7261C1.0244,5.4033.1484,4.6533.1484,2.9702.1484,1.0044,1.4106,0,3.4297,0,5.3301,0,6.7109.77789,6.7109,2.7158v.2828H4.6616c0-.9478-.3413-1.4995-1.1577-1.4995A1.06609,1.06609,0,0,0,2.2866,2.6734c0,.622.1929,1.0044,1.0987,1.372l1.6479.6787c1.6035.6651,2.019,1.4429,2.019,2.6734,0,2.1362-1.3657,3.0981-3.6821,3.0981C.9502,10.4956,0,9.4204,0,7.5533V7.1431Z" />
				<path
					d="M12.981,3.607c0-1.4712-.3116-2.1079-1.2769-2.1079-1.0835,0-1.3359,1.0327-1.3359,3.8901,0,3.0552.4453,3.6069,1.3657,3.6069.772,0,1.3364-.3818,1.3364-2.56H15.208c0,2.1782-.564,4.0595-3.3701,4.0595-3.207,0-3.6079-2.17871-3.6079-5.248S8.6309,0,11.8379,0c3.0586,0,3.2812,2.1358,3.2812,3.607Z" />
				<path d="M16.9937,10.2974V.1978h2.13811V10.2974Z" />
			</svg>
			<svg x="330" y="4" width="17" height="18" viewBox="0 0 9.1538 10.1992">
				<path
					d="M7.7329,8.6973A3.15,3.15,0,0,1,5.502,9.501H4.274a1.10672,1.10672,0,0,1-.6338-.1519.40012.40012,0,0,1-.1451-.351V5.3111h.2818a2.17858,2.17858,0,0,1,1.5679.5053A2.27861,2.27861,0,0,1,5.9009,7.207H6.399V2.8565H5.917a2.08612,2.08612,0,0,1-.5879,1.3076,2.127,2.127,0,0,1-1.4663.4663H3.4951V1.1792a.44734.44734,0,0,1,.1451-.355A.69926.69926,0,0,1,4.1089.6973H5.502a2.614,2.614,0,0,1,2.0439.6958A3.36449,3.36449,0,0,1,8.292,3.083h.523L8.5572,0H0V.7251H.5708a1.04858,1.04858,0,0,1,.583.1172.42371.42371,0,0,1,.1612.3657V8.8853a.57662.57662,0,0,1-.1612.4292.64836.64836,0,0,1-.4726.1577H0v.727H8.937l.2168-3.373H8.669a3.48768,3.48768,0,0,1-.9361,1.8711" />
			</svg>
			<svg x="358" y="2" width="9" height="19" viewBox="0 0 5.13003 11.0655">
				<path
					d="M4.72912,8.6973c-.4809.5078-2.083,1.4932-2.415.9302-.20309-.3482.0591-1.0474.1001-1.1821L3.858,3.3731H3.41712l-2.959.4941L.319,4.3545H.62322a.86745.86745,0,0,1,.4101.0928.31107.31107,0,0,1,.1758.2969,5.5246,5.5246,0,0,1-.227.9673l-.857,2.83c-.34909,1.1846.00391,2.524,1.419,2.524A4.76521,4.76521,0,0,0,5.13,9.0332Z" />
				<path d="M3.05632,0a1.29055,1.29055,0,1,0,1.2929,1.2911A1.28965,1.28965,0,0,0,3.05632,0" />
			</svg>
			<svg x="376" y="4" width="17" height="17" viewBox="0 0 9.6616 9.708">
				<polygon points="0 9.708 9.662 0 9.662 2.033 3.342 8.314 9.662 8.314 9.662 9.708 0 9.708" />
			</svg>
			<svg x="399" y="4" width="19" height="18" viewBox="0 0 11.2598 10.7637">
				<path
					d="M0,5.1333H2.9571V0H8.3038V5.1333h2.956L5.6294,10.7637ZM5.6294,9.3838l3.274-3.27341H7.3267V.9756H3.9332V6.11039H2.3555Z" />
			</svg>
			<svg x="428" y="5" width="16" height="15" viewBox="0 0 8.8818 8.87345">
				<path
					d="M8.0645.0887a.5179.5179,0,0,1,.8173.5005V8.284a.51685.51685,0,0,1-.8173.4995L.3369,4.848c-.4492-.2281-.4492-.6011,0-.8296Z" />
			</svg>
			<svg x="450" y="5" width="15" height="15" viewBox="0 0 8.87306 8.88317">
				<path
					d="M.08893.8159A.51645.51645,0,0,1,.58793,0h7.6953a.51641.51641,0,0,1,.501.815L4.84673,8.5474c-.2285.4477-.6016.4477-.82909,0Z" />
			</svg>
			<svg x="470" y="4" width="16" height="16" viewBox="0 0 8.87472 8.88325">
				<path
					d="M.08868,8.06725a.51713.51713,0,0,0,.501.816H8.285a.51658.51658,0,0,0,.501-.815L4.84848.33535c-.2285-.4473-.6015-.4473-.8291.001Z" />
			</svg>
			<svg x="493" y="5" width="16" height="15" viewBox="0 0 8.8857 8.87345">
				<path
					d="M.8164.0887A.51744.51744,0,0,0,0,.5892V8.284a.51639.51639,0,0,0,.8164.4995L8.54881,4.848c.44919-.2281.44919-.6011,0-.8296Z" />
			</svg>
			<svg x="518" y="2" width="23" height="19" viewBox="0 0 12.65821 10.45951">
				<path
					d="M11.6113,0H1.0449A1.04619,1.04619,0,0,0,0,1.045V9.41211a1.04605,1.04605,0,0,0,1.0449,1.0474H11.6113a1.04585,1.04585,0,0,0,1.04691-1.0474V1.045A1.046,1.046,0,0,0,11.6113,0ZM5.5664,8.65291H3.7891V1.80671H5.5664Zm3.3027,0H7.0928V1.80671H8.8691Z" />
			</svg>
			<svg x="551" y="0" width="23" height="23" viewBox="0 0 12.65297 12.65052">
				<path
					d="M7.43945,2.068,6.54885.193c-.1221-.25729-.3213-.25729-.4424,0l-.8906,1.875a4.37567,4.37567,0,0,1,1.1123-.1587A4.38648,4.38648,0,0,1,7.43945,2.068Z" />
				<path
					d="M10.12205,4.10117l.6983-1.9565c.0957-.2666-.0449-.4063-.3135-.3115l-1.957.6943a4.53248,4.53248,0,0,1,.9004.6767A4.327,4.327,0,0,1,10.12205,4.10117Z" />
				<path
					d="M12.46,6.10457,10.58405,5.214a4.448,4.448,0,0,1,.1572,1.1109,4.347,4.347,0,0,1-.1572,1.1118L12.46,6.546C12.71775,6.42687,12.71685,6.22517,12.46,6.10457Z" />
				<path
					d="M10.12205,8.54947a4.34549,4.34549,0,0,1-.6738.8969,4.32738,4.32738,0,0,1-.8984.6748l1.956.6963c.2696.0967.4102-.0449.3135-.3115Z" />
				<path
					d="M5.21485,10.58167l.8897,1.875c.1211.2583.3222.2583.4423.001l.8916-1.876a4.34948,4.34948,0,0,1-1.1123.1572A4.19237,4.19237,0,0,1,5.21485,10.58167Z" />
				<path
					d="M2.53025,8.54947l-.6962,1.9541c-.0967.269.04391.4106.3115.3139l1.9551-.6963a4.52142,4.52142,0,0,1-.8965-.6748A4.2829,4.2829,0,0,1,2.53025,8.54947Z" />
				<path
					d="M1.91215,6.32387a4.33622,4.33622,0,0,1,.1562-1.1099l-1.872.8906c-.2608.1206-.2618.3223-.003.4414l1.875.8907A4.46183,4.46183,0,0,1,1.91215,6.32387Z" />
				<path
					d="M2.53025,4.10117a4.28053,4.28053,0,0,1,.6768-.89841,4.39193,4.39193,0,0,1,.8936-.67529l-1.9522-.6943c-.27049-.0977-.4121.0424-.3144.3115Z" />
				<path d="M6.32815,2.78767a3.53665,3.53665,0,1,0,3.5352,3.5362A3.53651,3.53651,0,0,0,6.32815,2.78767Z" />
			</svg>
		</g>
		<g id="statusEY">
			<svg x="1" y="2" width="19" height="20" viewBox="0 0 10.77 11.338">
				<path
					d="M9.636,0H1.133C.508,0,0,.508,0,1.133V10.203c0,.628,.508,1.135,1.133,1.135H9.636c.627,0,1.134-.507,1.134-1.135V1.133c0-.625-.507-1.133-1.134-1.133ZM5.301,10.448c-2.181,0-3.038-.968-3.038-2.65v-.37h1.927v.268c0,.853,.254,1.401,1.271,1.401,.589,0,1.151-.356,1.151-1.121,0-.828-.441-1.134-1.713-1.554-1.713-.561-2.502-1.236-2.502-2.752C2.398,1.899,3.535,.995,5.355,.995c1.713,0,2.957,.701,2.957,2.446v.255h-1.847c0-.854-.308-1.351-1.043-1.351-.87,0-1.097,.522-1.097,1.057,0,.561,.174,.905,.99,1.236l1.485,.611c1.445,.599,1.82,1.3,1.82,2.408,0,1.924-1.231,2.79-3.319,2.79Z" />
			</svg>
			<svg x="32" y="4" width="38" height="18" viewBox="0 0 22.181 10.602">
				<polygon
					points="7.391 1.442 16.216 1.442 16.216 0 6.301 0 3.56 8.71 1.591 4.695 0 4.695 2.853 10.602 4.52 10.602 7.391 1.442" />
				<polygon
					points="14.661 9.28 9.43 9.28 9.43 4.107 13.339 4.107 13.339 5.094 14.661 5.094 14.661 2.786 8.108 2.786 8.108 10.602 14.661 10.602 14.661 9.28" />
				<polygon points="15.601 8.325 22.181 3.54 20.517 1.248 13.944 6.028 15.601 8.325" />
				<polygon points="13.425 6.403 12.674 8.698 15.08 8.694 13.426 6.402 13.425 6.403" />
			</svg>
			<svg x="81" y="2" width="19" height="20" viewBox="0 0 10.77 11.338">
				<path
					d="M9.636,0H1.133C.508,0,0,.508,0,1.133V10.203c0,.628,.508,1.135,1.133,1.135H9.636c.627,0,1.135-.507,1.135-1.135V1.133c0-.625-.508-1.133-1.135-1.133ZM5.431,10.27H2.393V1.173h3.158c2.677,0,3.158,1.746,3.158,4.421,0,3.223-.723,4.676-3.278,4.676Z" />
				<path d="M5.136,2.524h-.815v6.396h.856c1.338,0,1.605-.803,1.605-3.275,0-2.064-.174-3.121-1.646-3.121Z" />
			</svg>
			<svg x="107" y="2" width="19" height="20" viewBox="0 0 10.77 11.338">
				<path
					d="M9.636,0H1.133C.508,0,0,.508,0,1.133V10.203c0,.628,.508,1.135,1.133,1.135H9.636c.627,0,1.134-.507,1.134-1.135V1.133c0-.625-.507-1.133-1.134-1.133Zm-.74,10.27h-2.087c-.188-.255-.228-.599-.241-.955l-.054-1.746c-.026-.713-.361-1.146-1.138-1.146h-1.03v3.848h-1.927V1.173h3.56c1.579,0,2.543,.79,2.543,2.344,0,1.21-.509,2.026-1.593,2.243v.025c1.311,.165,1.512,.853,1.539,2.777,.013,.956,.066,1.453,.428,1.631v.077Z" />
				<path d="M5.256,2.524h-.91v2.624h.803c.924,0,1.445-.382,1.445-1.363,0-.841-.468-1.261-1.338-1.261Z" />
			</svg>
			<svg x="132" y="2" width="19" height="20" viewBox="0 0 10.77 11.338">
				<path
					d="M9.636,0H1.133C.508,0,0,.508,0,1.133V10.203c0,.628,.508,1.135,1.133,1.135H9.636c.627,0,1.135-.507,1.135-1.135V1.133c0-.625-.508-1.133-1.135-1.133Zm-1.134,10.27h-1.419v-.841h-.026c-.455,.713-1.11,1.019-2.007,1.019-2.369,0-2.838-1.682-2.838-4.829C2.212,2.562,2.962,.995,5.424,.995c2.114,0,2.971,1.032,2.971,2.879h-1.847c0-.675-.321-1.529-1.097-1.529-.937,0-1.311,.917-1.311,3.185,0,2.191,.214,3.567,1.324,3.567,.455,0,1.191-.471,1.191-1.452v-.93h-1.271v-1.351h3.118v4.905Z" />
			</svg>
			<svg x="163" y="4" width="36" height="18" viewBox="0 0 19.929 10.1">
				<path d="M0,0H5.924V1.669H2.138v2.376h3.563v1.669H2.138v4.385H0V0Z" />
				<path d="M8.169,10.1V0h2.138V10.1h-2.138Z" />
				<path
					d="M12.342,0h2.361l1.366,3.268,1.351-3.268h2.331l-2.465,4.993,2.643,5.107h-2.405l-1.529-3.423-1.514,3.423h-2.346l2.643-5.107L12.342,0Z" />
			</svg>
			<svg x="205" y="4" width="33" height="18" viewBox="0 0 19.132 10.496">
				<path
					d="M2.138,7.143v.297c0,.948,.282,1.556,1.411,1.556,.653,0,1.277-.396,1.277-1.245,0-.919-.49-1.259-1.9-1.726C1.024,5.403,.148,4.653,.148,2.97,.148,1.004,1.411,0,3.43,0c1.9,0,3.281,.778,3.281,2.716v.283h-2.049c0-.948-.341-1.499-1.158-1.499-.965,0-1.217,.58-1.217,1.174,0,.622,.193,1.004,1.099,1.372l1.648,.679c1.603,.665,2.019,1.443,2.019,2.673,0,2.136-1.366,3.098-3.682,3.098-2.42,0-3.37-1.075-3.37-2.942v-.41H2.138Z" />
				<path
					d="M12.981,3.607c0-1.471-.312-2.108-1.277-2.108-1.083,0-1.336,1.033-1.336,3.89,0,3.055,.445,3.607,1.366,3.607,.772,0,1.336-.382,1.336-2.56h2.138c0,2.178-.564,4.059-3.37,4.059-3.207,0-3.608-2.179-3.608-5.248s.401-5.248,3.608-5.248c3.059,0,3.281,2.136,3.281,3.607h-2.138Z" />
				<path d="M16.994,10.297V.198h2.138V10.297h-2.138Z" />
			</svg>
			<svg x="251" y="4" width="17" height="18" viewBox="0 0 9.154 10.199">
				<path
					d="M7.733,8.697c-.576,.539-1.331,.804-2.231,.804h-1.228c-.275,0-.487-.05-.634-.152-.097-.069-.145-.186-.145-.351v-3.687h.282c.698,0,1.221,.17,1.568,.505,.296,.287,.478,.754,.556,1.391h.498V2.856h-.482c-.083,.589-.276,1.028-.588,1.308-.347,.31-.836,.466-1.466,.466h-.368V1.179c0-.151,.048-.27,.145-.355,.096-.085,.252-.127,.469-.127h1.393c.976,0,1.59,.225,2.044,.696,.367,.38,.577,.916,.746,1.69h.523l-.258-3.083H0V.725H.571c.28,0,.475,.039,.583,.117,.107,.079,.161,.2,.161,.366v7.677c0,.181-.054,.323-.161,.429-.108,.106-.266,.158-.473,.158H0v.727H8.937l.217-3.373h-.485c-.176,.802-.465,1.431-.936,1.871" />
			</svg>
			<svg x="279" y="2" width="9" height="19" viewBox="0 0 5.13 11.065">
				<path
					d="M4.729,8.697c-.481,.508-2.083,1.493-2.415,.93-.203-.348,.059-1.047,.1-1.182L3.858,3.373h-.441L.458,3.867l-.139,.487h.304c.144,0,.3,.03,.41,.093,.11,.063,.175,.145,.176,.297,.003,.199-.16,.732-.227,.967L.125,8.541c-.349,1.185,.004,2.524,1.419,2.524,1.463-.008,2.586-.851,3.586-2.032l-.401-.336Z" />
				<path
					d="M3.056,0c-.716,.003-1.289,.578-1.289,1.291,0,.717,.574,1.29,1.289,1.29,.719,0,1.292-.573,1.293-1.29,0-.713-.574-1.288-1.293-1.291" />
			</svg>
			<svg x="297" y="4" width="17" height="17" viewBox="0 0 9.662 9.708">
				<polygon points="0 9.708 9.662 0 9.662 2.033 3.342 8.314 9.662 8.314 9.662 9.708 0 9.708" />
			</svg>
			<svg x="322" y="4" width="19" height="18" viewBox="0 0 11.26 10.764">
				<path
					d="M0,5.133H2.957V0h5.347V5.133h2.956l-5.63,5.63L0,5.133Zm5.629,4.25l3.274-3.273h-1.577V.976H3.933V6.11h-1.578l3.274,3.273Z" />
			</svg>
			<svg x="351" y="2" width="19" height="20" viewBox="0 0 10.988 10.988">
				<path
					d="M5.494,0C2.46,0,0,2.46,0,5.494s2.46,5.494,5.494,5.494,5.494-2.46,5.494-5.494S8.528,0,5.494,0Zm-.916,8.555L1.651,5.628l1.363-1.363,1.564,1.565,3.396-3.396,1.363,1.363-4.759,4.758Z" />
			</svg>
			<svg x="381" y="5" width="16" height="15" viewBox="0 0 8.882 8.873">
				<path
					d="M8.064,.089c.449-.227,.817-.002,.817,.5v7.695c0,.504-.368,.729-.817,.499L.337,4.848c-.449-.228-.449-.601,0-.83L8.064,.089Z" />
			</svg>
			<svg x="407" y="5" width="15" height="15" viewBox="0 0 8.873 8.883">
				<path
					d="M.089,.816c-.228-.45-.003-.816,.499-.816h7.695c.504,0,.728,.366,.501,.815l-3.937,7.732c-.228,.448-.602,.448-.829,0L.089,.816Z" />
			</svg>
			<svg x="430" y="4" width="16" height="16" viewBox="0 0 8.875 8.883">
				<path
					d="M.089,8.067c-.227,.45-.002,.816,.501,.816h7.695c.503,0,.729-.366,.501-.815L4.848,.335c-.228-.447-.601-.447-.829,0L.089,8.067Z" />
			</svg>
			<svg x="455" y="5" width="16" height="15" viewBox="0 0 8.886 8.873">
				<path
					d="M.816,.089c-.448-.227-.816-.002-.816,.5v7.695c0,.504,.368,.729,.816,.499l7.732-3.935c.449-.228,.449-.601,0-.83L.816,.089Z" />
			</svg>
			<svg x="483" y="2" width="23" height="19" viewBox="0 0 12.658 10.46">
				<path
					d="M11.611,0H1.045C.469,0,0,.469,0,1.045V9.412c0,.58,.469,1.047,1.045,1.047H11.611c.579,0,1.047-.468,1.047-1.047V1.045c0-.576-.468-1.045-1.047-1.045ZM5.566,8.653h-1.777V1.807h1.777v6.846Zm3.303,0h-1.776V1.807h1.776v6.846Z" />
			</svg>
			<svg x="515" y="0" width="23" height="23" viewBox="0 0 12.653 12.651">
				<path
					d="M7.439,2.068L6.549,.193c-.122-.257-.321-.257-.442,0l-.891,1.875c.357-.093,.725-.159,1.112-.159,.385,0,.754,.065,1.111,.159Z" />
				<path
					d="M10.122,4.101l.698-1.956c.096-.267-.045-.406-.313-.311l-1.957,.694c.319,.188,.624,.403,.9,.677,.271,.272,.487,.579,.672,.897Z" />
				<path
					d="M12.46,6.105l-1.876-.891c.093,.357,.156,.726,.157,1.111,0,.387-.064,.755-.157,1.112l1.876-.891c.258-.119,.257-.321,0-.441Z" />
				<path
					d="M10.122,8.549c-.185,.319-.402,.625-.674,.897-.274,.275-.579,.488-.898,.675l1.956,.696c.27,.097,.41-.045,.313-.311l-.697-1.956Z" />
				<path
					d="M5.215,10.582l.89,1.875c.121,.258,.322,.258,.442,0l.892-1.876c-.357,.094-.727,.157-1.112,.157-.386,.003-.754-.063-1.111-.157Z" />
				<path
					d="M2.53,8.549l-.696,1.954c-.097,.269,.044,.411,.311,.314l1.955-.696c-.316-.186-.622-.403-.896-.675-.274-.272-.487-.578-.674-.897Z" />
				<path
					d="M1.912,6.324c-.002-.387,.064-.752,.156-1.11L.196,6.105c-.261,.121-.262,.322-.003,.441l1.875,.891c-.092-.358-.156-.727-.156-1.113Z" />
				<path
					d="M2.53,4.101c.187-.321,.402-.625,.677-.898,.271-.274,.577-.487,.894-.675l-1.952-.694c-.27-.098-.412,.042-.314,.311l.696,1.956Z" />
				<path
					d="M6.328,2.788c-1.953,0-3.537,1.583-3.537,3.536s1.584,3.537,3.537,3.537,3.535-1.584,3.535-3.537-1.584-3.536-3.535-3.536Z" />
			</svg>
		</g>
	</svg>
	<canvas id="screen"></canvas>
	<div id="keypad">
		<div id="keypadCY">
			<div data-ki="128" data-ko="1" style="left: 35px; top: 181px; width: 35px; height: 35px;"></div>
			<div data-ki="128" data-ko="2" style="left: 82px; top: 181px; width: 35px; height: 35px;"></div>
			<div data-ki="128" data-ko="16" style="left: 257px; top: 181px; width: 35px; height: 35px;"></div>
			<div data-ki="0" data-ko="0" style="left: 304px; top: 181px; width: 35px; height: 35px;"></div>
			<div data-ki="128" data-ko="4" style="left: 170px; top: 178px; width: 35px; height: 35px;"></div>
			<div data-ki="64" data-ko="8" style="left: 170px; top: 227px; width: 35px; height: 35px;"></div>
			<div data-ki="64" data-ko="4" style="left: 127px; top: 202px; width: 35px; height: 35px;"></div>
			<div data-ki="128" data-ko="8" style="left: 212px; top: 202px; width: 35px; height: 35px;"></div>
			<div data-ki="64" data-ko="1" style="left: 32px; top: 247px; width: 45px; height: 27px;"></div>
			<div data-ki="64" data-ko="2" style="left: 85px; top: 247px; width: 45px; height: 27px;"></div>
			<div data-ki="64" data-ko="16" style="left: 243px; top: 247px; width: 45px; height: 27px;"></div>
			<div data-ki="64" data-ko="32" style="left: 296px; top: 247px; width: 45px; height: 27px;"></div>
			<div data-ki="32" data-ko="1" style="left: 32px; top: 291px; width: 45px; height: 27px;"></div>
			<div data-ki="32" data-ko="2" style="left: 85px; top: 291px; width: 45px; height: 27px;"></div>
			<div data-ki="32" data-ko="4" style="left: 138px; top: 291px; width: 45px; height: 27px;"></div>
			<div data-ki="32" data-ko="8" style="left: 191px; top: 291px; width: 45px; height: 27px;"></div>
			<div data-ki="32" data-ko="16" style="left: 243px; top: 291px; width: 45px; height: 27px;"></div>
			<div data-ki="32" data-ko="32" style="left: 296px; top: 291px; width: 45px; height: 27px;"></div>
			<div data-ki="16" data-ko="1" style="left: 32px; top: 336px; width: 45px; height: 27px;"></div>
			<div data-ki="16" data-ko="2" style="left: 85px; top: 336px; width: 45px; height: 27px;"></div>
			<div data-ki="16" data-ko="4" style="left: 138px; top: 336px; width: 45px; height: 27px;"></div>
			<div data-ki="16" data-ko="8" style="left: 191px; top: 336px; width: 45px; height: 27px;"></div>
			<div data-ki="16" data-ko="16" style="left: 243px; top: 336px; width: 45px; height: 27px;"></div>
			<div data-ki="16" data-ko="32" style="left: 296px; top: 336px; width: 45px; height: 27px;"></div>
			<div data-ki="8" data-ko="1" style="left: 32px; top: 380px; width: 45px; height: 27px;"></div>
			<div data-ki="8" data-ko="2" style="left: 85px; top: 380px; width: 45px; height: 27px;"></div>
			<div data-ki="8" data-ko="4" style="left: 138px; top: 380px; width: 45px; height: 27px;"></div>
			<div data-ki="8" data-ko="8" style="left: 191px; top: 380px; width: 45px; height: 27px;"></div>
			<div data-ki="8" data-ko="16" style="left: 243px; top: 380px; width: 45px; height: 27px;"></div>
			<div data-ki="8" data-ko="32" style="left: 296px; top: 380px; width: 45px; height: 27px;"></div>
			<div data-ki="4" data-ko="1" style="left: 33px; top: 428px; width: 55px; height: 38px;"></div>
			<div data-ki="4" data-ko="2" style="left: 96.5px; top: 428px; width: 55px; height: 38px;"></div>
			<div data-ki="4" data-ko="4" style="left: 160px; top: 428px; width: 55px; height: 38px;"></div>
			<div data-ki="4" data-ko="8" style="left: 222px; top: 428px; width: 55px; height: 38px;"></div>
			<div data-ki="4" data-ko="16" style="left: 285px; top: 428px; width: 55px; height: 38px;"></div>
			<div data-ki="2" data-ko="1" style="left: 33px; top: 480px; width: 55px; height: 38px;"></div>
			<div data-ki="2" data-ko="2" style="left: 96.5px; top: 480px; width: 55px; height: 38px;"></div>
			<div data-ki="2" data-ko="4" style="left: 160px; top: 480px; width: 55px; height: 38px;"></div>
			<div data-ki="2" data-ko="8" style="left: 222px; top: 480px; width: 55px; height: 38px;"></div>
			<div data-ki="2" data-ko="16" style="left: 285px; top: 480px; width: 55px; height: 38px;"></div>
			<div data-ki="1" data-ko="1" style="left: 33px; top: 532px; width: 55px; height: 38px;"></div>
			<div data-ki="1" data-ko="2" style="left: 96.5px; top: 532px; width: 55px; height: 38px;"></div>
			<div data-ki="1" data-ko="4" style="left: 160px; top: 532px; width: 55px; height: 38px;"></div>
			<div data-ki="1" data-ko="8" style="left: 222px; top: 532px; width: 55px; height: 38px;"></div>
			<div data-ki="1" data-ko="16" style="left: 285px; top: 532px; width: 55px; height: 38px;"></div>
			<div data-ki="16" data-ko="64" style="left: 33px; top: 584px; width: 55px; height: 38px;"></div>
			<div data-ki="8" data-ko="64" style="left: 96.5px; top: 584px; width: 55px; height: 38px;"></div>
			<div data-ki="4" data-ko="64" style="left: 160px; top: 584px; width: 55px; height: 38px;"></div>
			<div data-ki="2" data-ko="64" style="left: 222px; top: 584px; width: 55px; height: 38px;"></div>
			<div data-ki="1" data-ko="64" style="left: 285px; top: 584px; width: 55px; height: 38px;"></div>
		</div>
		<div id="keypadEY">
			<div data-ki="0" data-ko="0" style="left: 34px; top: 183px; width: 29px; height: 29px;"></div>
			<div data-ki="128" data-ko="2" style="left: 84px; top: 183px; width: 36px; height: 36px;"></div>
			<div data-ki="128" data-ko="8" style="left: 192px; top: 179px; width: 36px; height: 36px;"></div>
			<div data-ki="64" data-ko="1" style="left: 30px; top: 225px; width: 36px; height: 36px;"></div>
			<div data-ki="64" data-ko="2" style="left: 84px; top: 225px; width: 36px; height: 36px;"></div>
			<div data-ki="64" data-ko="4" style="left: 138px; top: 225px; width: 36px; height: 36px;"></div>
			<div data-ki="64" data-ko="8" style="left: 192px; top: 225px; width: 36px; height: 36px;"></div>
			<div data-ki="64" data-ko="16" style="left: 246px; top: 225px; width: 36px; height: 36px;"></div>
			<div data-ki="32" data-ko="8" style="left: 192px; top: 273px; width: 36px; height: 36px;"></div>
			<div data-ki="128" data-ko="32" style="left: 300px; top: 177px; width: 37px; height: 37px;"></div>
			<div data-ki="64" data-ko="32" style="left: 300px; top: 224px; width: 37px; height: 37px;"></div>
			<div data-ki="32" data-ko="1" style="left: 30px; top: 275px; width: 37px; height: 37px;"></div>
			<div data-ki="32" data-ko="2" style="left: 84px; top: 275px; width: 37px; height: 37px;"></div>
			<div data-ki="32" data-ko="4" style="left: 138px; top: 275px; width: 37px; height: 37px;"></div>
			<div data-ki="32" data-ko="16" style="left: 246px; top: 275px; width: 37px; height: 37px;"></div>
			<div data-ki="32" data-ko="32" style="left: 300px; top: 275px; width: 37px; height: 37px;"></div>
			<div data-ki="16" data-ko="1" style="left: 30px; top: 322px; width: 37px; height: 37px;"></div>
			<div data-ki="16" data-ko="2" style="left: 84px; top: 322px; width: 37px; height: 37px;"></div>
			<div data-ki="16" data-ko="4" style="left: 138px; top: 322px; width: 37px; height: 37px;"></div>
			<div data-ki="16" data-ko="8" style="left: 192px; top: 322px; width: 37px; height: 37px;"></div>
			<div data-ki="16" data-ko="16" style="left: 246px; top: 322px; width: 37px; height: 37px;"></div>
			<div data-ki="16" data-ko="32" style="left: 300px; top: 322px; width: 37px; height: 37px;"></div>
			<div data-ki="8" data-ko="1" style="left: 30px; top: 368px; width: 37px; height: 37px;"></div>
			<div data-ki="8" data-ko="2" style="left: 84px; top: 368px; width: 37px; height: 37px;"></div>
			<div data-ki="8" data-ko="4" style="left: 138px; top: 368px; width: 37px; height: 37px;"></div>
			<div data-ki="8" data-ko="8" style="left: 192px; top: 368px; width: 37px; height: 37px;"></div>
			<div data-ki="8" data-ko="16" style="left: 246px; top: 368px; width: 37px; height: 37px;"></div>
			<div data-ki="8" data-ko="32" style="left: 300px; top: 368px; width: 37px; height: 37px;"></div>
			<div data-ki="4" data-ko="1" style="left: 27px; top: 418px; width: 47px; height: 47px;"></div>
			<div data-ki="4" data-ko="2" style="left: 93px; top: 418px; width: 47px; height: 47px;"></div>
			<div data-ki="4" data-ko="4" style="left: 159px; top: 418px; width: 47px; height: 47px;"></div>
			<div data-ki="4" data-ko="8" style="left: 225px; top: 418px; width: 47px; height: 47px;"></div>
			<div data-ki="4" data-ko="16" style="left: 291px; top: 418px; width: 47px; height: 47px;"></div>
			<div data-ki="2" data-ko="1" style="left: 27px; top: 472px; width: 47px; height: 47px;"></div>
			<div data-ki="2" data-ko="2" style="left: 93px; top: 472px; width: 47px; height: 47px;"></div>
			<div data-ki="2" data-ko="4" style="left: 159px; top: 472px; width: 47px; height: 47px;"></div>
			<div data-ki="2" data-ko="8" style="left: 225px; top: 472px; width: 47px; height: 47px;"></div>
			<div data-ki="2" data-ko="16" style="left: 291px; top: 472px; width: 47px; height: 47px;"></div>
			<div data-ki="1" data-ko="1" style="left: 27px; top: 526px; width: 47px; height: 47px;"></div>
			<div data-ki="1" data-ko="2" style="left: 93px; top: 526px; width: 47px; height: 47px;"></div>
			<div data-ki="1" data-ko="4" style="left: 159px; top: 526px; width: 47px; height: 47px;"></div>
			<div data-ki="1" data-ko="8" style="left: 225px; top: 526px; width: 47px; height: 47px;"></div>
			<div data-ki="1" data-ko="16" style="left: 291px; top: 526px; width: 47px; height: 47px;"></div>
			<div data-ki="16" data-ko="64" style="left: 27px; top: 580px; width: 47px; height: 47px;"></div>
			<div data-ki="8" data-ko="64" style="left: 93px; top: 580px; width: 47px; height: 47px;"></div>
			<div data-ki="4" data-ko="64" style="left: 159px; top: 580px; width: 47px; height: 47px;"></div>
			<div data-ki="2" data-ko="64" style="left: 225px; top: 580px; width: 47px; height: 47px;"></div>
			<div data-ki="1" data-ko="64" style="left: 291px; top: 580px; width: 47px; height: 47px;"></div>
		</div>
	</div>
</div>
<div id="hud">
	<a href="https://github.com/satgo1546/classwiz-emulator">
		<svg viewBox="0 0 16 16" width="16" height="16">
			<path
				d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
			</path>
		</svg>
	</a>
	<select id="modelSelect">
		<option selected disabled>Select a model</option>
		<optgroup label="ClassWiz CW Series (EY)">
			<option value="EY005">fx-570/991CW</option>
			<option value="EY001">fx-82/85/350CW</option>
			<option value="EY044">fx-8200 AU</option>
			<option value="EY039">fx-570/991LA CW</option>
			<option value="EY036">fx-82LA CW</option>
			<option value="EY023">fx-880BTG</option>
		</optgroup>
		<optgroup label="ClassWiz X Series (CY)">
			<option value="CY234">fx-570/991EX</option>
			<option value="CY230">fx-82/85/350EX</option>
			<option value="CY258">fx-570/991AR X</option>
			<option value="CY257">fx-95AR X</option>
			<option value="CY256">fx-82AR X</option>
			<option value="CY247">fx-92B Spéciale Collège</option>
			<option value="CY294">fx-991CE X</option>
			<option value="CY291">fx-82/85/350CE X</option>
			<option value="CY239">fx-991CN X</option>
			<option value="CY236">fx-82/85/350CN X</option>
			<option value="CY251">fx-991DE X</option>
			<option value="CY250">fx-87DE X</option>
			<option value="CY215">fx-82/85DE X</option>
			<option value="CY295">fx-92+ Spéciale Collège</option>
			<option value="CY213">fx-83/85GT X</option>
			<option value="CY243">fx-JP900</option>
			<option value="CY242">fx-JP700</option>
			<option value="CY241">fx-JP500</option>
			<option value="CY240">fx-530AZ</option>
			<option value="CY272">fx-570/991LA X</option>
			<option value="CY270">fx-82/350LA X</option>
			<option value="CY217">fx-991RS X</option>
			<option value="CY297">fx-97SG X</option>
			<option value="CY268">fx-570/991SP X/X II</option>
			<option value="CY266">fx-82/85/350SP X/X II</option>
			<option value="CY298">fx-580VN X</option>
		</optgroup>
	</select>
	<input id="infoOutput" readonly value="No error handling; use inspector">
	<a id="saveROM" title="Save ROM file for this model" href="javascript:;">
		<svg viewBox="0 0 32 16" width="32" height="16">
			<path fill="none" stroke="black" stroke-width="2" stroke-linecap="round"
				d="M1 4h14v8H1zM4 2v2M8 2v2M12 2v2M4 12v2M8 12v2M12 12v2M21 1h6v7h3l-6 7-6-7h3z">
			</path>
		</svg>
	</a>
</div>
<script src="lib/simwrapper.js"></script>
<script src="lib/simlib.js"></script>
<script>
	// Since simlib.wasm assumes global states, SimWrapper must in fact be a singleton.
	// Thus, it's not wrong to store the instance in a global variable.
	const sim = new SimWrapper
	const ctx = document.getElementById('screen').getContext('2d')
	let statusEl
	modelSelect.onchange = async () => {
		infoOutput.value = 'Loading'
		container.style.backgroundImage = `url("data/${modelSelect.value}/face.svg")`
		Array.prototype.forEach.call(document.querySelectorAll('#status>*, #keypad>*'), el => el.style.display = 'none')
		sim.Stop()
		sim._simulatorRunning = false
		// Stop() is asynchronous. Wait for SimWrapper to stop.
		await new Promise(resolve => setTimeout(resolve, 5))
		await sim.Init(modelSelect.value)
		infoOutput.value = sim.RomVersion()
		document.getElementById('keypad' + modelSelect.value.slice(0, 2)).style.display = ''
		statusEl = document.getElementById('status' + modelSelect.value.slice(0, 2))
		statusEl.style.display = ''
	}

	// Beware that _simRunning and _simulatorRunning are different.
	// _simRunning controls the execution loop.
	// _simulatorRunning is set when _SimStartCallback(2) is called, but not unset when _SimStop() gets called.
	// SimulatorIsRunning() returns _simulatorRunning.
	let imageData
	requestAnimationFrame(function render() {
		if (sim.SimulatorIsRunning()) {
			imageData = sim.GetDisplayImageData(imageData)
			ctx.canvas.width = imageData.width
			ctx.canvas.height = imageData.height
			ctx.putImageData(imageData, 0, 0)
			const status = sim.GetSymbolState()
			for (let i = 0; i < status.length; i++) {
				statusEl.children[i].style.opacity = status[i] === '1' ? 1 : .1
			}
		} else {
			ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)
		}
		requestAnimationFrame(render)
	})

	onresize = () => {
		const width = 375
		const height = 635
		const scale = Math.min(document.documentElement.clientWidth / width, document.documentElement.clientHeight / height)
		container.style.width = width + 'px'
		container.style.height = height + 'px'
		container.style.transform = `translate(
			${(document.documentElement.clientWidth - width * scale) / 2}px,
			${(document.documentElement.clientHeight - height * scale) / 2}px
		) scale(${scale})`
	}
	onresize()

	keypad.onpointerdown = event => {
		if (event.target.hasAttribute('data-ki') && sim.SimulatorIsRunning()) {
			sim.SetKey(+event.target.dataset.ki, +event.target.dataset.ko)
		}
	}

	saveROM.onclick = () => {
		const size = modelSelect.value.slice(0, 2) === 'EY' ? 0x80000 : 0x40000
		const data = new Uint8Array(size)
		// 0 means success.
		if (sim._ReadCodeMemory(0, size, data) === 0) {
			saveROM.href = URL.createObjectURL(new Blob([data], { type: 'application/octet-stream' }))
			saveROM.download = modelSelect.value + '.bin'
			infoOutput.value = 'ROM extracted for ' + modelSelect.value
		} else {
			infoOutput.value = 'What?'
		}
	}
</script>
